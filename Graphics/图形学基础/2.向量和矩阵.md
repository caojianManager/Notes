# 向量和矩阵

## 一.Vectors (向量)

### 1.向量含义

![Vector_0](../images/01/01_vector_0.png)

### 2.向量长度

![Vector_1](../images/01/01_vector_1.png)

单位向量：大小为1的向量。我们通常使用单位向量表示方向，不关心其长度。

### 3.向量相加

![Vector_2](../images/01/01_vector_2.png)

相加有两种方式：如上，平行四边形法则和三角形法则。

### 4.向量相乘

#### 点乘

![Vector_3](../images/01/01_vector_3.png)
如上图，点乘在几何中的含义，点乘可方便让我们得到两个向量的夹角。（当两个向量都为单位向量时，这时候计算会非常方便）

![Vector_4](../images/01/01_vector_4.png)
如上，点乘满足这些数学规律，交换律，分配律和结合律。

![Vector_5](../images/01/01_vector_5.png)
如何上，在2D,3D空间上两个向量的点乘结果。

**点乘用途：**
> 点乘：在图形学中最大的用处，就是找到两个向量的夹角。

1.点乘可以计算一个向量在另一个向量上的**投影**，和一个向量的两个分量。如下图：
![Vector_6](../images/01/01_vector_6.png)
![Vector_7](../images/01/01_vector_7.png)

2.点乘还可以告诉我们一个**前或后**的信息。
![Vector_8](../images/01/01_vector_8.png)
如图：从$\vec{a}$起点向上看形成forward区域，向下看形成backward区域。

+ $\vec{b}$终点落在foward区域，我们认为$\vec{b}$和$\vec{a}$的大致方向相同。
+ $\vec{c}$的终点落在backward区域，我们认为$\vec{c}$和$\vec{a}$的方向大致相反。

>如上结论。我们可以知道，向量的点乘可以告诉我们向量方向性，方向相同，相反或垂直。
> 点乘为负数：方向相反。
> 点乘为正数：方向相同。
> 点乘为0：方向垂直。
> 同意，点乘的结果我们也可以知道两个向量方向是否相近。（数值越靠近1，则夹角越小，方向越近）

#### 叉乘

![Vector_9](../images/01/01_vector_9.png)
叉乘：给出两个向量$\vec{a}$和$\vec{b}$，通过叉乘会生成一个新的向量$\vec{c}$，则$\vec{c}$垂直于$\vec{a}$和$\vec{b}$。即垂直于$\vec{a}$,$\vec{b}$形成的平面。
上图只给出了$\vec{a}和\vec{b}$的叉乘大小，并没有给出方向。方向我们需要通过右手螺旋定则判断 （注意，$\vec{a}\times\vec{b} 和\vec{b}\times\vec{a}$的结果并不相同（方向相反），即叉乘不满足交换律）。
>右手螺旋定则：手掌展开，四指与拇指垂直，四指指向**第一个向量**，慢慢旋转四指握向手心>（旋转方向为**第二个向量**），旋转完成后，**拇指所指方向**为叉乘所得向量方向。
>右手坐标系：第一个向量指x轴正方向，第二个向量y轴正方向，则同上得到拇指所指方向为z轴正方向。

![Vector_10](../images/01/01_vector_10.png)
如上右边是叉乘的运算法则。左边公式是以右手系为准则（$\vec{x} \times\vec{y} = +\vec{z}$）。如果是左手系(OpenGL)，则（$\vec{x} \times \vec{y} = -\vec{z}$）.

>上面说明了叉乘在几何中的含义，下面看看叉乘在代数中运算

![Vector_11](../images/01/01_vector_11.png)
如上，写明了$\vec{a}\times\vec{b}$的结果，和使用A矩阵替代$\vec{a}$进行运算，两者结果一样。

**叉乘的用途**

1.判断左右，内外
![Vector_12](../images/01/01_vector_12.png)
![Vector_13](../images/01/01_vector_13.png)
如上图，

+ 判断左右（左图）：给定两个向量$\vec{a}和\vec{b}$,怎么判定$\vec{b}在\vec{a}左边还是右边$？。即用$\vec{a}\times\vec{b}$得到的叉乘结果数值如果是正的，则$\vec{b}在\vec{a}的左边$。反之如果是负数，在右边。
+ 判断内外（右图）：怎么判断p在是否在三角形内？即利用上面的规则判断p点位于三条边的左边还是右边（左/右看三角形每条边指向的方向）。如上图给定A,B,C三个点，逆时针排列。得到$\vec{CA},\vec{AB}和\vec{BC}三条向量$，则分别计算($\vec{CA}\times\vec{CP},\vec{AB}\times\vec{AP},\vec{BC}\times\vec{BP}$)三组叉乘,即可得到P都位于三条向量的左边。即得到p点在三角形内。

## 二.矩阵

### 1.矩阵乘法

![matrix_1](../images/01/01_matrix_1.jpg)

+ 矩阵相乘的条件：第一个矩阵的列数要等于第二个矩阵的行数。

+ 矩阵乘积不满足交换律，相乘顺序十分重要，不同顺序会得到不同的结果。
+ 矩阵满足结合律和分配律
  
```C
(AB)C = A(BC)
A(B+C) = AB + AC
(A+B)C = AC + BC
```

### 2.矩阵的转置

矩阵的转置就是把矩阵的行和列互换位置

$$
 \left[
 \begin{matrix}
   1 & 2 \\
   3 & 4 \\
   5 & 6 \\
  \end{matrix}
  \right] ^T =
  \left[
 \begin{matrix}
   1 & 3 & 5 \\
   2 & 4 & 6
  \end{matrix}
  \right]
$$

转置矩阵的性质:$$(AB)^T = B^TA^T$$

### 3.单位矩阵

单位矩阵一定是一个n*n的方阵，从左上角到右下脚的对角线(主对角线)上的元素均为1.

$$
I_{3*3} = 
 \left[
 \begin{matrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\
  \end{matrix}
  \right]
$$

单位矩阵相当于常数中的1，无论什么矩阵乘以一个单位阵，最终得到的矩阵都和原来的矩阵一样。

### 4.逆矩阵

$$如果能找到一个矩阵，使得矩阵A与之相乘，且不管相乘的顺序，最终都得到一个单位阵，那么我们就把矩阵称为矩阵A的逆矩阵，记做: A^{-1}$$

$$
AA^{-1} = A^{-1}A = I
$$

可以把逆矩阵理解为矩阵的除法。
逆矩阵性质：
$$
(AB)^{-1} = B^{-1}A^{-1}
$$

### 5.矩阵变换

#### 缩放矩阵

#### 反射矩阵

#### 旋转矩阵

#### 平移矩阵

#### 逆变换

#### 矩阵的相乘顺序

#### 自定义旋转轴