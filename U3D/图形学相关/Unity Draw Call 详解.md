
## 一.什么是Draw Call？

Unity中，每次CPU准备好数据并通知GPU这样的一个过程，称之为一个Draw Call.

具体过程：设置颜色-->绘图方式-->顶点坐标-->绘制-->结束，所以在绘制过程中，如果能在一次DrawCall完成所有绘制就会大大提高运行效率，进而达到优化的目的。
## 二.Draw Call为什么会影响游戏运行的效率？

说道为什么会影响效率，就首先要了解一下他的工作原理：为了CPU和GPU可以进行并行工作，就需要一个命令缓冲区，就是由CPU向其中添加命令，然后又GPU从中读取命令，这样就实现了通过CPU准备数据，通知GPU进行渲染。

在每次调用DrawCall之前，CPU需要向GPU发送很多内容，主要是包括数据，渲染状态（就是设置对象需要的材质纹理等），命令等。CPU进行的操作具体就是：

+ 准备渲染对象，然后将渲染对象从硬盘加载到内存，然后从内存加载到显存，进而方便GPU高速处理
+ 设置每个对象的渲染状态，也就是设置对象的材质、纹理、着色器等
+ 输出渲染图元，然后向GPU发送DrawCall命令，并将渲染图元传递给GPU

>所以如果DrawCall数量过多就会导致CPU进行大量计算，进而导致CPU的过载，影响游戏运行效率。

## 三.如何优化Draw Call?

### 1.关于图集，材质，层级的处理，减少DrawCall

所以说在对UI进行界面排布就需要对图集和层级做好规划，进而减少DrawCall次数。

### 2.关于合批，减少Draw Call

### 3.减少实时光的使用以及阴影效果

同样的设置，但是如果你将灯光的阴影效果打开，你会发现DrawCall大幅增加，

所以在项目中，如果想让场景更加完美，可以使用lightmap满足你想要的阴影效果。

>综上所述就是要对图集进行和层级处理要做好整体规划，尽量将材质纹理合并，对于灯光的根据当前情况做好相应处理。